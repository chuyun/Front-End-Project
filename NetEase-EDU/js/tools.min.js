function ajax(url,data,method,success,error){var req;if(window.XMLHttpRequest){req=new XMLHttpRequest;if(req.overrideMimeType){req.overrideMimeType("text/xml")}}else if(window.ActiveXObject){var activeName=["MSXML2.XMLHTP","Microsoft.XMLHTTP"];for(var i=0,len=activeName.length;i<len;i++){try{req=new ActiveXObject(activeName[i]);break}catch(e){}}}var resA="";data=data||{};method=method||"get";success=success||function(){};error=error||function(f){alert(url+"发生错误！")};req.onreadystatechange=function(){if(req.readyState==4){if(req.status>=200&&status<300||req.status==304||req.status==0){success&&success(req.responseText)}else{error&&error(req.status)}}};if(data){var res=[];for(var i in data){res.push(encodeURIComponent(i)+"="+encodeURIComponent(data[i]))}resA=res.join("&")}if(method=="get"){if(data){url+="?"+resA}req.open(method,url,true);req.send(null)}if(method=="post"){req.setRequestHeader("content-type","application/x-www-form-urlencoded");req.open(method,url,true);req.send(resA)}}function addFunc(ele,event,listener){if(ele.addEventListener){ele.addEventListener(event,listener,false)}else if(ele.attachEvent){ele.attachEvent("on"+event,listener)}else{ele["on"+event]=listener}}function hasClass(ele,className){var list=ele.className.split(/\s+/);for(var i=0,len=list.length;i<len;i++){if(list[i]==className){return true}}return false}function addClass(ele,className){var list=ele.className.split(/\s+/);if(!list[0]){ele.className=className}else{ele.className+=" "+className}}function removeClass(ele,className){var list=ele.className.split(/\s+/);if(!list[0])return;for(var i=0,len=list.length;i<len;i++){if(list[i]==className){list.splice(i,1);ele.className=list.join(" ")}}}function setCookie(name,value,days){var cookie=encodeURIComponent(name)+"+"+encodeURIComponent(value);var exp=new Date;exp.setTime(exp.getTime()+days*24*60*60*1e3);cookie+="; expires="+exp.toGMTString();document.cookie=cookie}function getCookie(){var cookie={};var all=document.cookie;if(all==="")return cookie;var list=all.split(";");for(var i=0,len=list.length;i<len;i++){var item=list[i];var p=item.indexOf("=");var name=item.substring(0,p);name=decodeURIComponent(name);var value=item.substring(p+1);value=decodeURIComponent(value);cookie[name]=value}console.log("Cookie:");console.log(cookie);return cookie}function getElementByClassName(className){var classArr=[];var tags=document.getElementsByTagName("*");for(var i=0,len=tags.length;i<len;i++){if(tags[i].nodeType==1){if(tags[i].getAttribute("class")==className){classArr.push(tags[i])}}}return classArr}function addLoadEvent(func){var oldonload=window.onload;if(typeof window.onload!="function"){window.onload=func}else{window.onload=function(){oldonload();func()}}}